#Упрощенная система выполнения абстрактных заказов

Есть заказчики, исполнители и система.
Заказчик публикует заказ, указывает его стоимость.
Исполнитель видит ленту заказов, доступных для исполнения.
Исполнитель кликает "выполнить" на заказе, ему на счет зачисляется сумма за вычетом комиссии системы.
У одного заказа может быть только один исполнитель. Когда заказ выполнен - он исчезает из ленты. 

## Описание
* Использованы: PHP, MYSQL, JQuery.
* Предусмотрен вариант расположения каждой таблицы в отдельной базе данных.
* Ведётся бухгалтерский учёт методом "Двойной записи" для обеспечения возможности проверки корректности денежных проводок. По ссылке "Бухгалтерская сводка" отображается таблица бухгалтерских счетов с делемнием на активы и пассивы, а также проводится дополнительная сверка балансов бухгалтерских счетов с суммами данных в таблицах.
* Все изменения в БД заносятся в специальную таблицу, позволяющую получить информацию о том, что/когда происходило с какой-то моделью (например с заказом) и кто это делал.
* Операции пополнения счёта, размещения заказа и выполнения заказа проводятся в транзакциях (не уровня БД)
* Процессы регистрация, входа, пополнения счёта и т.д. выполнены с использованием AJAX
* Регистрация разбита на 3 последовательных шага
* Данные, набранные в формах, проходят локальную проверку на Javascript. Появляются подсказки, если что-то набрано не правильно.
* Email в регистрационной форме проверяется на не занятость с помощью AJAX
* Список заказов реализован в виде ленты с бесконечным скроллом. Очередная порция данных подгружается незадолго до того, как пользователь долистает до конца страницы, предоставляя дополнительные данные незаметно для пользователя.
* Пересортировка списка заказов происходит также без перезагрузки страницы.
* Выполнение заказов происходит без перезагрузки страницы. Заказ исчезает из ленты с обновлением суммы на счету и счётчика выполненных заказов через AJAX.

## Реализация транзакций
Каждое действие, затрагивающее БД в транзакции записывается в журнал транзакций (реализован в виде таблицы в БД) два раза: до выполнения и после. Это позволит в случае падения скрипта определить место, где прервалась транзакция, и откатить/завершить её.
####Порядок действий в транзакциях в общем случае:
+ Открытие транзакции. 
Если скрипт будет прерван, транзакция останется брошенной в открытом виде, что послужит сигналом к необходимости вмешаться администратору.
+ Блокировка нужных строк в таблицах пользователей и/или заказов. 
Блокировки постоянные и останутся активными в случае неожиданного завершения работы. 
Это не позволит пользователю "запутать следы" последующими действиями, пока администратор не откатит/завершит транзакцию.
Есть возможность реализации отката брошенной транзакции в автоматическом режиме по информации из журанала транзакций.
Блокировка осуществляется в алфавитном порядке по имени таблицы и номеру строки, чтобы не допустить перекрёстного ожидания блокировок.
+ Обновление данных в таблицах и занос записей бухгалтерского учёта. 
Выполняются в "наименее опасной" последовательности. 
Например, в случае пополнения счёта, изменение баланса пользователя выполняется последним.
+ Снятие блокировок
+ Закрытие транзакции
